# RecordController API 功能测试表格

## API 概述
RecordController 提供了记录管理相关的 API，主要用于查询用户的订单记录。

## 功能测试表格

| 序号 | API 接口 | HTTP 方法 | URL 路径 | 请求参数 | 预期响应 | 测试场景 | 测试步骤 | 预期结果 |
|------|---------|----------|---------|---------|---------|---------|---------|---------|
| 1 | 查询订单 | GET | /record | 无请求体，需要在请求头中包含有效的JWT令牌 | 返回当前用户的订单记录列表 | 1.1 有效令牌且用户有订单记录 | 1. 使用有效的JWT令牌发送请求<br>2. 检查响应状态码和内容 | 状态码：200 OK<br>响应体：包含用户订单记录的JSON数组 |
| 2 | 查询订单 | GET | /record | 无请求体，需要在请求头中包含有效的JWT令牌 | 返回空列表 | 1.2 有效令牌但用户无订单记录 | 1. 使用有效的JWT令牌发送请求<br>2. 检查响应状态码和内容 | 状态码：200 OK<br>响应体：空数组 [] |
| 3 | 查询订单 | GET | /record | 无请求体，请求头中包含无效的JWT令牌 | 返回未授权错误 | 1.3 无效令牌 | 1. 使用无效的JWT令牌发送请求<br>2. 检查响应状态码和内容 | 状态码：401 Unauthorized<br>响应体：错误信息 |
| 4 | 查询订单 | GET | /record | 无请求体，请求头中不包含JWT令牌 | 返回未授权错误 | 1.4 无令牌 | 1. 不带JWT令牌发送请求<br>2. 检查响应状态码和内容 | 状态码：401 Unauthorized<br>响应体：错误信息 |

## 测试注意事项

1. **认证要求**：所有接口都需要JWT令牌认证
2. **数据准备**：测试前需要准备测试数据，包括用户账号、订单记录等
3. **数据验证**：需要验证返回的订单记录是否属于当前用户
4. **字段验证**：需要验证返回的订单记录包含所有必要字段（recordid、bikeid、userid、type、starttime、endtime、money、sparkingid、eparkingid、touser）
5. **日期格式验证**：需要验证返回的日期字段（starttime、endtime）格式是否正确（yyyy-MM-dd HH:mm:ss）
6. **安全测试**：应测试未授权访问、越权操作等安全问题
7. **性能测试**：可测试大量订单记录的查询性能

## 测试环境要求

1. 后端服务已正确部署并运行
2. 数据库已正确配置并包含必要的表结构
3. 测试工具（如Postman、JMeter等）已准备就绪
4. 已创建测试用户并获取有效的JWT令牌
5. 已为测试用户创建订单记录